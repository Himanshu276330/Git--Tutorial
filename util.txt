utility function of version 2