utility function of version 1